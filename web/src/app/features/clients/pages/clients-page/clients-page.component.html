<div class="max-w-screen-xl mx-auto px-4 md:px-8 py-20">
  
  <h2 class="text-2xl font-semibold mb-3">Clientes:</h2>
  <div class="flex flex-col md:flex-row items-center gap-3 mb-3">
    <app-client-filters 
      class="w-full md:flex-1"
      (submitForm)="onFilterSubmit($event)"
    ></app-client-filters>
    <button matButton="filled" class="w-full md:w-auto" (click)="openCreateClientDialog()">
      <mat-icon>add</mat-icon>
      Novo Cliente
    </button>
  </div>

  <mat-card>
    <mat-card-content>
      @switch (viewState()) {
        @case ('loading') {
          <div class="flex justify-center items-center p-16">
            <mat-spinner diameter="50"></mat-spinner>
          </div>
        }
        @case ('error') {
          <app-ui-error [message]="error()" />
        }
        @default {
          <app-client-list 
            [clients]="clients()"
            [isLoading]="isLoading()"
            [totalElements]="totalElements()"
            [pageSize]="pagination().pageSize"
            [pageIndex]="pagination().pageIndex"
            [isComputexClientUser]="this.isComputexClientUser()"
            [authClientCnpj]="this.authClientCnpj()"
            (pageChange)="onPageChange($event)"
            (updateClient)="onUpdateClient($event)"
            (updateComputexPostUrl)="onUpdateComputexPostUrlDialog($event)"
            (deleteClient)="onDeleteClient($event)"
            (restoreClient)="onRestoreClient($event)"
            (restorePassword)="onRestorePassword($event)"
          >
          </app-client-list>
        }
      }
    </mat-card-content>
  </mat-card>
</div>