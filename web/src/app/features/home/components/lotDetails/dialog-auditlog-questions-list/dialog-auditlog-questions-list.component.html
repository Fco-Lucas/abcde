<div class="mat-elevation-z8 rounded-lg overflow-hidden">
  @if(isLoading) {
    <div *ngIf="this.isLoading" class="flex justify-center items-center p-16">
      <mat-spinner diameter="50"></mat-spinner>
    </div>
  } @else {
    <div class="overflow-x-auto">
      <table mat-table [dataSource]="dataSource">

        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef>Data</th>
          <td mat-cell *matCellDef="let entrie"> {{ formatToBr(entrie.createdAt) }} </td>
        </ng-container>

        <ng-container matColumnDef="client">
          <th mat-header-cell *matHeaderCellDef>Cliente</th>
          <td mat-cell *matCellDef="let entrie"> {{ entrie.clientName }}  </td>
        </ng-container>

        <ng-container matColumnDef="user">
          <th mat-header-cell *matHeaderCellDef>Usuário</th>
          <td mat-cell *matCellDef="let entrie"> {{ entrie.userName }}  </td>
        </ng-container>

        <ng-container matColumnDef="details">
          <th mat-header-cell *matHeaderCellDef>Detalhes</th>
          <td mat-cell *matCellDef="let entrie"> {{ entrie.details }}  </td>
        </ng-container>

        <!-- Definição das linhas do cabeçalho e do corpo -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell text-center p-4" [attr.colspan]="displayedColumns.length">
            Nenhum registro encontrado
          </td>
        </tr>
      </table>
    </div>

    <!-- Paginador -->
    <mat-paginator 
      (page)="pageChange.emit($event)"
      [length]="totalElements"
      [pageSize]="pageSize"
      [pageIndex]="pageIndex"
      [pageSizeOptions]="[5, 10, 20]" 
      showFirstLastButtons
      aria-label="Selecione a página dos registros">
    </mat-paginator>
  }
</div>